jQuery(document).ready(function(a){function b(){a("#tiptip_holder").removeAttr("style"),a("#tiptip_arrow").removeAttr("style"),a(".socicon").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})}function c(b,c,e){var f=b;if(!f.hasClass("ess-social-animated")){var g=f.data("cookie_duration")?f.data("cookie_duration"):!1;if(!1!==g&&!i("essCookie","true")||!1===g){var h=""!==f.data("idle_timeout")?1e3*f.data("idle_timeout"):3e4;!0===e?a(document.body).idleTimer(h).on("idle.idleTimer",function(){d(f,0)}):d(f,c),!1!==g&&j(g)}}}function d(a,b){setTimeout(function(){a.addClass("ess-social-visible ess-social-animated")},b)}function e(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return e[1]}}function f(b,c){var d,e=b;if(!e.hasClass("ess-social-animated")){var f=b.data("scroll_position")>100?100:b.data("scroll_position"),g=e.data("cookie_duration")?e.data("cookie_duration"):!1;d=!0===c?a(".ess-social-bottom-trigger").length?a(".ess-social-bottom-trigger").offset().top:a(document).height()-500:100===f?a(document).height()-10:a(document).height()*f/100}a(window).scroll(function(){(!1!==g&&!i("essCookie","true")||!1===g)&&a(window).scrollTop()+a(window).height()>d&&(e.addClass("ess-social-visible ess-social-animated"),!1!==g&&j(g))})}function g(){for(var a=document.cookie.split("; "),b={},c=a.length-1;c>=0;c--){var d=a[c].split("=");b[d[0]]=d[1]}return b}function h(a){var b=24*a*60*60*1e3,c=new Date;return c.setTime(c.getTime()+b),"; expires="+c.toUTCString()}function i(a,b){return g()[a]===b}function j(a){var b=h(a);document.cookie="essCookie=true"+b}b(),a(document.body).on("click",".ess-social-share",function(){var b=a(window).height()/2-225,c=a(window).width()/2-275,d=window.open(a(this).attr("href"),"","scrollbars=1, height=450, width=550, top="+b+", left="+c);return window.focus&&d.focus(),!1}),a(document.body).on("click",".ess-social-share",function(){var b=a(this),c={post_id:b.data("post-id"),network:b.data("social-name"),page_url:""!==easy_social_sharing_params.page_url?easy_social_sharing_params.page_url:window.location.href,action:"easy_social_sharing_update_single_share",security:easy_social_sharing_params.update_share_nonce};a.ajax({url:easy_social_sharing_params.ajax_url,data:c,type:"POST",success:function(a){a.success&&a.data.counts&&b.find("span.ess-social-count").text(a.data.counts)}})}),a(document.body).on("ess-init-shares-count",function(){a(".ess-display-counts").each(function(){var b=a(this),c={post_id:b.data("post-id"),min_count:b.data("min-count"),network:b.data("social-name"),page_url:""!==easy_social_sharing_params.page_url?easy_social_sharing_params.page_url:window.location.href,action:"easy_social_sharing_get_shares_count",security:easy_social_sharing_params.shares_count_nonce};a.ajax({url:easy_social_sharing_params.ajax_url,data:c,type:"POST",success:function(a){a?(b.addClass("ess-show-count"),b.find("span.ess-social-count").text(a).show()):(b.addClass("ess-hide-count"),b.find("span.ess-social-count").remove())}})})}).trigger("ess-init-shares-count"),a(document.body).on("ess-init-total-share-counts",function(){a(".ess-total-share").each(function(){var b=a(this),c={post_id:b.data("post-id"),page_url:""!==easy_social_sharing_params.page_url?easy_social_sharing_params.page_url:window.location.href,action:"easy_social_sharing_get_total_counts",security:easy_social_sharing_params.total_counts_nonce};a.ajax({url:easy_social_sharing_params.ajax_url,data:c,type:"POST",success:function(a){a.success&&a.data.totals&&b.find("span.ess-total-count").text(a.data.totals)}})})}).trigger("ess-init-total-share-counts"),a(document.body).on("ess-init-network-modal",function(){a(".ess-popup-close, .ess-popup-overlay").click(function(){a("body").removeClass("ess-popup-enable")}),a(".ess-all-networks").filter(":not(.enhanced)").click(function(){a("body").toggleClass("ess-popup-enable")}),a(".ess-social-share-pinterest").click(function(b){b.preventDefault(),a("body").toggleClass("ess-pinterest-popup-enable")}),a(".ess-pinterest-popup-close, .ess-pinterest-popup-overlay").click(function(){a("body").removeClass("ess-pinterest-popup-enable")})}).trigger("ess-init-network-modal"),a(document.body).on("ess-pinterest-image-picker",function(){if(a(".ess-social-pin-images").length&&(a(".ess-all-networks").length||a(".ess-social-share-pinterest").length)){var b=a(".ess-social-pin-images"),c=b.data("permalink"),d=b.data("title"),e=b.data("post_id"),f=0;a("img").each(function(){if(!a(this).hasClass("avatar")){var b=a(this).attr("src"),g=a(this).attr("alt");if(""!==b){var h="http://www.pinterest.com/pin/create/button/?url="+c+"&media="+b+"&description="+d,i='<div class="ess-social-pin-image"><img src="'+b+'" alt="'+g+'"/><a href="'+h+'" rel="nofollow" class="ess-pinterest-tag ess-social-share" data-social_name="pinterest" data-post_id="'+e+'" data-social_type="share"><i class="socicon socicon-pinterest"></i></a></div>';a(".ess-social-pin-images").append(i),f++}}}),0===f&&a(".ess-social-pin-images").append('<div class="ess-no-pinterest-img-found">'+easy_social_sharing_params.i18n_no_img_message+"</div>")}}).trigger("ess-pinterest-image-picker");var k=a("#ess-wrap-sidebar-networks").height()/2;a("#ess-wrap-sidebar-networks").css("margin-top",-k),a(".ess-all-networks-toggle").click(function(){a("#ess-wrap-sidebar-networks").toggleClass("ess-sidebar-enable"),a(".ess-all-networks-toggle i").toggleClass("fa-chevron-right")}),a(".ess-right-layout .ess-all-networks-toggle i").removeClass("fa-chevron-left"),a(".ess-right-layout .ess-all-networks-toggle i").addClass("fa-chevron-right"),a(".ess-right-layout .ess-all-networks-toggle").click(function(){a(".ess-all-networks-toggle i").toggleClass("fa-chevron-left")}),a(".ess-mobile-share-toggle").click(function(){a(this).parent().toggleClass("ess-mobile-share-enable"),a(".ess-mobile-share-overlay").toggleClass("active")}),a(".ess-mobile-share-toggle .ess-close-mob-share").click(function(){a(".ess-mobile-bottom-share").hide(),a(".ess-mobile-share-collection").toggleClass("active")}),a(".ess-mobile-share-collection").click(function(){a(".ess-mobile-bottom-share").show(),a(this).removeClass("active")}),a(document.body).on("ess-close-popup-modal",function(){var b=a(".ess-popup-layout-wrapper");return b.hasClass("ess-social-animated")&&(a(".ess-popup-layout-wrapper").removeClass("ess-social-visible"),setTimeout(function(){a(".ess-popup-layout-wrapper").remove()},200)),!1}),a(document.body).on("keydown",function(b){var c=b.keyCode||b.which;27===c&&a(document.body).trigger("ess-close-popup-modal")}),a(".ess-popup-layout-close, .ess-popup-layout-wrapper .ess-popup-layout-overlay").click(function(){a(document.body).trigger("ess-close-popup-modal")}),a(".ess-fly-layout-close").click(function(){a("#ess-wrap-fly-networks").remove()}),a(".ess-all-networks-popup").click(function(){a(".ess-choosen-networks").hide(),a(".ess-available-networks").show()}),a(".ess-social-auto-popup").each(function(){var b=a(this);c(b,""!==b.data("delay")?1e3*b.data("delay"):0,!1)}),a(".ess-social-trigger-idle").each(function(){var b=a(this);c(b,0,!0)}),a(".ess-trigger-after-order").length&&a(".ess-social-after-purchase").each(function(){var b=a(this);c(b,0,!1)}),"true"===e("ess_popup")&&a(".ess-social-after-comment").each(function(){var b=a(this);c(b,0,!1)}),a(".ess-social-bottom-trigger").length&&a(".ess-social-bottom-trigger").each(function(){f(a(this),!0)}),a(".ess-social-trigger-scroll").length&&a(".ess-social-trigger-scroll").each(function(){f(a(this),!1)})});